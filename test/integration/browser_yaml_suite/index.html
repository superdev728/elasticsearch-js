<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Mocha Tests</title>
  <link rel="stylesheet" href="mocha.css" />
</head>
<body>
  <div id="mocha"></div>

  <!-- libs -->
  <script type="text/javascript" src="expect.js?_c=<%= ts %>"></script>
  <script type="text/javascript" src="mocha.js?_c=<%= ts %>"></script>
  <script type="text/javascript" src="jquery.js?_c=<%= ts %>"></script>
  <script type="text/javascript" src="client.js?_c=<%= ts %>"></script>

  <!-- ESJS Reporter - sets itself as the reporter -->
  <link rel="stylesheet" href="esjs_reporter.css?_c=<%= ts %>"/>
  <script type="text/javascript" src="esjs_reporter.js?_c=<%= ts %>"></script>

  <!-- global vars -->
  <script>
    var ES_HOSTNAME = <%= JSON.stringify(es_hostname) %>;
    var ES_PORT = <%= JSON.stringify(es_port) %>;
    var BROWSER_NAME = <%= JSON.stringify(browser) %>;
  </script>

  <!-- mocha setup -->
  <script>
    mocha.setup('bdd')
    mocha.checkLeaks();
    mocha.globals(['console', 'elasticsearch']);
    mocha.slow(1000);
    mocha.timeout(11000);
    mocha.bail();
  </script>

  <!-- include tests -->
  <script type="text/javascript" src="yaml_tests.js?_c=<%= ts %>"></script>

  <!-- begin -->
  <script>
    /PhantomJS/i.test(navigator.userAgent) || mocha.run();
  </script>
</body>
</html>
